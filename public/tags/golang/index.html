<!DOCTYPE html>
<html lang="en" dir="auto">

<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>golang | è™«å­æ¨±æ¡ƒ</title>
<meta name="keywords" content="" />
<meta name="description" content="æˆ‘æ¥é—®é“æ— é¦€è¯´ï¼Œäº‘åœ¨é’å¤©æ°´åœ¨ç“¶ã€‚">
<meta name="author" content="czyt">
<link rel="canonical" href="https://czyt.tech/tags/golang/" />
<script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
<link crossorigin="anonymous" href="/assets/css/stylesheet.min.2300a0eceb56958fe6e1d606ffa0a755d9ef95657cbf4b79a3fa1d3b9dc8b654.css" integrity="sha256-IwCg7OtWlY/m4dYG/6CnVdnvlWV8v0t5o/odO53ItlQ=" rel="preload stylesheet" as="style">
<link rel="icon" href="https://czyt.tech/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="https://czyt.tech/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="https://czyt.tech/favicon-32x32.png">
<link rel="apple-touch-icon" href="https://czyt.tech/apple-touch-icon.png">
<link rel="mask-icon" href="https://czyt.tech/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<meta name="generator" content="Hugo 0.105.0">
<link rel="alternate" type="application/rss+xml" href="https://czyt.tech/tags/golang/index.xml">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --hljs-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript><meta property="og:title" content="golang" />
<meta property="og:description" content="æˆ‘æ¥é—®é“æ— é¦€è¯´ï¼Œäº‘åœ¨é’å¤©æ°´åœ¨ç“¶ã€‚" />
<meta property="og:type" content="website" />
<meta property="og:url" content="https://czyt.tech/tags/golang/" />

<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="golang"/>
<meta name="twitter:description" content="æˆ‘æ¥é—®é“æ— é¦€è¯´ï¼Œäº‘åœ¨é’å¤©æ°´åœ¨ç“¶ã€‚"/>

</head>

<body class="list" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="https://czyt.tech/" accesskey="h" title="è™«å­æ¨±æ¡ƒ (Alt + H)">è™«å­æ¨±æ¡ƒ</a>
            <span class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </span>
        </div>
        <ul id="menu">
            <li>
                <a href="https://czyt.tech/" title="ğŸ Home">
                    <span>ğŸ Home</span>
                </a>
            </li>
            <li>
                <a href="https://czyt.tech/about/" title="ğŸ™‹About">
                    <span>ğŸ™‹About</span>
                </a>
            </li>
            <li>
                <a href="https://czyt.tech/post/" title="ğŸ“šPosts">
                    <span>ğŸ“šPosts</span>
                </a>
            </li>
            <li>
                <a href="https://czyt.tech/search/" title="ğŸ”Search">
                    <span>ğŸ”Search</span>
                </a>
            </li>
            <li>
                <a href="https://czyt.tech/tags/" title="ğŸ”–Tags">
                    <span>ğŸ”–Tags</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main"> 
<header class="page-header"><div class="breadcrumbs"><a href="https://czyt.tech/">Home</a>&nbsp;Â»&nbsp;<a href="https://czyt.tech/tags/">Tags</a></div>
  <h1>golang</h1>
</header>

<article class="post-entry tag-entry"> 
  <header class="entry-header">
    <h2>ä½¿ç”¨protoc-gen-starç¼–å†™protocæ’ä»¶
    </h2>
  </header>
  <section class="entry-content">
    <p>é¢„å¤‡çŸ¥è¯† éœ€è¦å®‰è£…çš„è½¯ä»¶ protoc golang go è½¯ä»¶åŒ… github.com/lyft/protoc-gen-star æ’ä»¶è°ƒç”¨æ­¥éª¤ protocï¼ŒPBç¼–è¯‘å™¨ï¼Œä½¿ç”¨ä¸€ç»„æ ‡å¿—ï¼ˆè®°å½•åœ¨protoc -hä¸‹ï¼‰è¿›è¡Œé…ç½®ï¼Œå¹¶å°†ä¸€ç»„æ–‡ä»¶ä½œä¸ºå‚æ•°äº¤ç»™å®ƒã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼ŒIæ ‡å¿—å¯ä»¥è¢«å¤šæ¬¡æŒ‡å®šï¼Œæ˜¯å®ƒåœ¨protoæ–‡ä»¶ä¸­ç”¨äºå¯¼å…¥ä¾èµ–å…³ç³»çš„æŸ¥æ‰¾è·¯å¾„ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œå®˜æ–¹æè¿°ç¬¦protoså·²ç»è¢«åŒ…å«åœ¨å†…ã€‚
myplugin_out å‘Šè¯‰ protoc ä½¿ç”¨ protoc-gen-myplugin protoc-pluginã€‚è¿™äº›æ’ä»¶ä¼šä»ç³»ç»Ÿçš„ PATH ç¯å¢ƒå˜é‡ä¸­è‡ªåŠ¨è§£æï¼Œæˆ–è€…å¯ä»¥ç”¨å¦ä¸€ä¸ªæ ‡å¿—æ˜ç¡®æŒ‡å®šã€‚å®˜æ–¹çš„protoc-plugins (ä¾‹å¦‚ï¼Œprotoc-gen-python) å·²ç»åœ¨protocæ³¨å†Œäº†ã€‚è¯¥æ ‡å¿—çš„å€¼æ˜¯ç‰¹å®šäºç‰¹å®šæ’ä»¶çš„ï¼Œä½† :â€¦/generated åç¼€é™¤å¤–ã€‚è¿™ä¸ªåç¼€è¡¨ç¤ºprotocå°†æŠŠè¯¥åŒ…ç”Ÿæˆçš„æ–‡ä»¶æ”¾åœ¨å“ªä¸ªæ ¹ç›®å½•ä¸‹ï¼ˆç›¸å¯¹äºå½“å‰å·¥ä½œç›®å½•ï¼‰ã€‚ç„¶è€Œï¼Œè¿™ä¸ªç”Ÿæˆçš„è¾“å‡ºç›®å½•ä¸ä¼šä¼ æ’­ç»™ protoc-gen-mypluginï¼Œæ‰€ä»¥å®ƒéœ€è¦åœ¨æ ‡å¿—çš„å·¦è¾¹é‡å¤ã€‚PG* é€šè¿‡ä¸€ä¸ª output_path å‚æ•°æ”¯æŒè¿™ä¸€ç‚¹ã€‚
protoc è§£æä¼ å…¥çš„ proto æ–‡ä»¶ï¼Œç¡®ä¿å®ƒä»¬åœ¨è¯­æ³•ä¸Šæ˜¯æ­£ç¡®çš„ï¼Œå¹¶åŠ è½½ä»»ä½•å¯¼å…¥çš„ä¾èµ–é¡¹ã€‚å®ƒå°†è¿™äº›æ–‡ä»¶å’Œä¾èµ–å…³ç³»è½¬æ¢æˆæè¿°ç¬¦ (å®ƒä»¬æœ¬èº«å°±æ˜¯ PB æ¶ˆæ¯)ï¼Œå¹¶åˆ›å»ºä¸€ä¸ª CodeGeneratorRequest (åˆæ˜¯ä¸€ä¸ª PB)ã€‚protoc å°†è¿™ä¸ªè¯·æ±‚åºåˆ—åŒ–ï¼Œç„¶åæ‰§è¡Œæ¯ä¸ªé…ç½®çš„ protoc-pluginï¼Œé€šè¿‡ stdin å‘é€æœ‰æ•ˆè½½è·ã€‚
protoc-gen-myplugin å¯åŠ¨ï¼Œæ¥æ”¶è¯·æ±‚çš„æœ‰æ•ˆè½½è·ï¼Œå¹¶å°†å…¶è§£å¯†ã€‚ä¸€ä¸ªåŸºäº PG* çš„ protoc-plugin æœ‰ä¸¤ä¸ªé˜¶æ®µã€‚é¦–å…ˆï¼ŒPG* å¯¹ä» protoc æ”¶åˆ°çš„ CodeGeneratorRequest è¿›è¡Œè§£å¯†ï¼Œå¹¶ä¸ºæ¯ä¸ªæ–‡ä»¶å’Œå…¶åŒ…å«çš„æ‰€æœ‰å®ä½“åˆ›å»ºä¸€ä¸ªå®Œå…¨è¿æ¥çš„æŠ½è±¡è¯­æ³•æ ‘ (AST)ã€‚ä¸ºè¿™ä¸ªæ’ä»¶æŒ‡å®šçš„ä»»ä½•å‚æ•°ä¹Ÿä¼šè¢«è§£æï¼Œä»¥ä¾¿ä»¥åä½¿ç”¨ã€‚
å½“è¿™ä¸€æ­¥å®Œæˆåï¼ŒPG*å°±ä¼šæ‰§è¡Œä»»ä½•æ³¨å†Œçš„æ¨¡å—ï¼ŒæŠŠæ„å»ºçš„ASTäº¤ç»™å®ƒã€‚æ¨¡å—å¯ä»¥è¢«å†™æˆç”Ÿæˆäººå·¥åˆ¶å“ï¼ˆä¾‹å¦‚ï¼Œæ–‡ä»¶ï¼‰ï¼Œæˆ–è€…åªæ˜¯å¯¹æ‰€æä¾›çš„å›¾è¿›è¡ŒæŸç§å½¢å¼çš„éªŒè¯è€Œæ²¡æœ‰ä»»ä½•å…¶ä»–å‰¯ä½œç”¨ã€‚æ¨¡å—åœ¨é’ˆå¯¹PBçš„æ“ä½œæ–¹é¢æä¾›äº†æå¤§çš„çµæ´»æ€§ã€‚
ä¸€æ—¦æ‰€æœ‰çš„æ¨¡å—éƒ½è¢«è¿è¡Œï¼ŒPG*ä¼šå°†ä»»ä½•è‡ªå®šä¹‰çš„å·¥ä»¶å†™å…¥æ–‡ä»¶ç³»ç»Ÿï¼Œæˆ–è€…å°†ç”Ÿæˆå™¨ç‰¹å®šçš„å·¥ä»¶åºåˆ—åŒ–ä¸ºCodeGeneratorResponseå¹¶å°†æ•°æ®å‘é€åˆ°å…¶stdoutã€‚è¿™æ•´ä¸ªæµç¨‹çœ‹èµ·æ¥åƒè¿™æ ·ã€‚
foo.proto â†’ protoc â†’ CodeGeneratorRequest â†’ protoc-gen-myplugin â†’ CodeGeneratorResponse â†’ protoc â†’ foo.pb.go å‡è®¾æ’ä»¶åç§°ä¸ºdiy,åˆ™éœ€è¦ç¼–è¯‘ç¨‹åºä¸ºprotoc-gen-diyï¼Œå¹¶å°†ç¨‹åºåŠ å…¥ç³»ç»ŸPathå˜é‡ï¼Œé€šè¿‡ä¸‹é¢çš„å‘½ä»¤è°ƒç”¨æ’ä»¶ã€‚
protoc -I ....</p>
  </section>
  <footer class="entry-footer"><span title='2022-10-29 00:00:00 +0000 UTC'>October 29, 2022</span>&nbsp;Â·&nbsp;3 min&nbsp;Â·&nbsp;czyt</footer>
  <a class="entry-link" aria-label="post link to ä½¿ç”¨protoc-gen-starç¼–å†™protocæ’ä»¶" href="https://czyt.tech/post/writing-a-protoc-plugin-using-protoc-gen-star/"></a>
</article>

<article class="post-entry tag-entry"> 
  <header class="entry-header">
    <h2>tailscaleçš„æ³›å‹SingleFlight
    </h2>
  </header>
  <section class="entry-content">
    <p>æºåœ°å€ tailscaleä»“åº“
å®Œæ•´ä»£ç å¦‚ä¸‹
// Copyright (c) 2022 Tailscale Inc &amp; AUTHORS All rights reserved. // Use of this source code is governed by a BSD-style // license that can be found in the LICENSE file. // Copyright 2013 The Go Authors. All rights reserved. // Use of this source code is governed by a BSD-style // license that can be found in the LICENSE file. // Package singleflight provides a duplicate function call suppression // mechanism....</p>
  </section>
  <footer class="entry-footer"><span title='2022-09-23 00:00:00 +0000 UTC'>September 23, 2022</span>&nbsp;Â·&nbsp;5 min&nbsp;Â·&nbsp;czyt</footer>
  <a class="entry-link" aria-label="post link to tailscaleçš„æ³›å‹SingleFlight" href="https://czyt.tech/post/generic-singleflight-by-tailscale/"></a>
</article>

<article class="post-entry tag-entry"> 
  <header class="entry-header">
    <h2>Golang é»˜è®¤çš„CGOå‚æ•°ç¼–è¯‘å¯¼è‡´çš„GLIBCé”™è¯¯
    </h2>
  </header>
  <section class="entry-content">
    <p>é—®é¢˜æè¿° ä½¿ç”¨goæ­£å¸¸ç¼–è¯‘äº†Linuxä¸‹çš„ç¨‹åºï¼Œæ”¾åˆ°æœåŠ¡å™¨ä¸ŠæŠ¥é”™
./app: /lib64/libc.so.6: version `GLIBC_2.34&#39; not found (required by ./app) è§£å†³ Googleäº†ä¸‹ï¼Œå‘ç°ç›¸åŒçš„Issue,äºæ˜¯é€šè¿‡go envæ£€æŸ¥æœ¬æœºgolangè¿è¡Œç¯å¢ƒï¼Œå‘ç°CGOé»˜è®¤å¯ç”¨è€Œä¸”ç¨‹åºä¹Ÿä¸æ¶‰åŠCGOç›¸å…³çš„ä¸œè¥¿ï¼Œäºæ˜¯è®¾ç½®CGOå‚æ•°ä¸ºå…³é—­ã€‚ç„¶åç¼–è¯‘ç¨‹åº
CGO_ENABLED=&#34;0&#34; go build -v
é‡æ–°ä¸Šä¼ ï¼Œè¿è¡ŒOK.</p>
  </section>
  <footer class="entry-footer"><span title='2022-08-30 00:00:00 +0000 UTC'>August 30, 2022</span>&nbsp;Â·&nbsp;1 min&nbsp;Â·&nbsp;czyt</footer>
  <a class="entry-link" aria-label="post link to Golang é»˜è®¤çš„CGOå‚æ•°ç¼–è¯‘å¯¼è‡´çš„GLIBCé”™è¯¯" href="https://czyt.tech/post/golang-default-cgo-flags-caused-glibc-missing-error/"></a>
</article>

<article class="post-entry tag-entry"> 
  <header class="entry-header">
    <h2>golang httpå®¢æˆ·ç«¯ä½¿ç”¨è‡ªå®šä¹‰dns
    </h2>
  </header>
  <section class="entry-content">
    <p>æ‘˜è‡ªäº’è”ç½‘ åŸæ–‡
package main import ( &#34;context&#34; &#34;io/ioutil&#34; &#34;log&#34; &#34;net&#34; &#34;net/http&#34; &#34;time&#34; ) func main() { var ( dnsResolverIP = &#34;8.8.8.8:53&#34; // Google DNS resolver. dnsResolverProto = &#34;udp&#34; // Protocol to use for the DNS resolver dnsResolverTimeoutMs = 5000 // Timeout (ms) for the DNS resolver (optional) ) dialer := &amp;net.Dialer{ Resolver: &amp;net.Resolver{ PreferGo: true, Dial: func(ctx context.Context, network, address string) (net.Conn, error) { d := net.Dialer{ Timeout: time.Duration(dnsResolverTimeoutMs) * time....</p>
  </section>
  <footer class="entry-footer"><span title='2022-08-22 00:00:00 +0000 UTC'>August 22, 2022</span>&nbsp;Â·&nbsp;1 min&nbsp;Â·&nbsp;czyt</footer>
  <a class="entry-link" aria-label="post link to golang httpå®¢æˆ·ç«¯ä½¿ç”¨è‡ªå®šä¹‰dns" href="https://czyt.tech/post/golang-http-use-custom-dns/"></a>
</article>

<article class="post-entry tag-entry"> 
  <header class="entry-header">
    <h2>go-kratosä½¿ç”¨å¤‡å¿˜
    </h2>
  </header>
  <section class="entry-content">
    <p>è‡ªå®šä¹‰æ¥å£è¿”å›å†…å®¹ æ­£å¸¸çš„å“åº”åºåˆ—åŒ–é€»è¾‘é€šè¿‡Response Encoderå®ç°ã€‚
é”™è¯¯çš„åºåˆ—åŒ–é€»è¾‘é€šè¿‡ErrorEncoderå®ç°ã€‚
æ³¨æ„ï¼šè‡ªå®šä¹‰Encoderåï¼Œå¯èƒ½ä¼šé‡åˆ°é›¶å€¼å­—æ®µè¢«å¿½ç•¥çš„æƒ…å†µï¼Œå¯ä»¥å‚è€ƒè¿™ä¸ªissueã€‚å…·ä½“çš„è§£å†³åŠæ³•æ˜¯
protoå®šä¹‰è¿”å›å†…å®¹ï¼Œç„¶åå°†ç”Ÿæˆçš„ç±»å‹åœ¨encoderä¸­ä½¿ç”¨ã€‚
ç®€å•ä»£ç å¤§è‡´å¦‚ä¸‹ï¼š
protoå®šä¹‰
import &#34;google/protobuf/any.proto&#34;; // BaseResponse is the base response message BaseResponse{ int32 code = 1 [json_name = &#34;code&#34;]; google.protobuf.Any data = 2 [json_name = &#34;data&#34;]; } goä»£ç 
func CustomResponseEncoder() http.ServerOption { return http.ResponseEncoder(func(w http.ResponseWriter, r *http.Request, i interface{}) error { reply := &amp;v1.BaseResponse{ Code: 0, } if m, ok := i.(proto.Message); ok { payload, err := anypb.New(m) if err != nil { return err } reply....</p>
  </section>
  <footer class="entry-footer"><span title='2022-08-12 00:00:00 +0000 UTC'>August 12, 2022</span>&nbsp;Â·&nbsp;6 min&nbsp;Â·&nbsp;czyt</footer>
  <a class="entry-link" aria-label="post link to go-kratosä½¿ç”¨å¤‡å¿˜" href="https://czyt.tech/post/go-kratos-usage-memo/"></a>
</article>

<article class="post-entry tag-entry"> 
  <header class="entry-header">
    <h2>Protobuf golangå°æœ­
    </h2>
  </header>
  <section class="entry-content">
    <p>Oneof å¦‚æœæ‚¨æœ‰è®¸å¤šå­—æ®µçš„æ¶ˆæ¯ï¼Œå¹¶ä¸”æœ€å¤šå¯ä»¥åŒæ—¶è®¾ç½®ä¸€ä¸ªå­—æ®µï¼Œåˆ™å¯ä»¥ä½¿ç”¨OneofåŠŸèƒ½æ¥æ‰§è¡Œæ­¤è¡Œä¸ºå¹¶ä¿å­˜å†…å­˜ã€‚ä¸€ä¸ªå­—æ®µå°±åƒå¸¸è§„å­—æ®µä¸€æ ·ï¼Œé™¤äº†å•ä¸€å…±äº«å†…å­˜ä¸­çš„æ‰€æœ‰å­—æ®µï¼Œæœ€å¤šå¯ä»¥åŒæ—¶è®¾ç½®ä¸€ä¸ªå­—æ®µã€‚è®¾ç½®Oneofçš„ä»»ä½•æˆå‘˜éƒ½ä¼šè‡ªåŠ¨æ¸…é™¤æ‰€æœ‰å…¶ä»–æˆå‘˜ã€‚
â€‹	Google protobuf æ–‡æ¡£#Oneof
ç¤ºä¾‹proto åˆ›å»ºprotoOneof.proto çš„protoæ–‡ä»¶
syntax = &#34;proto3&#34;; package oneof_test; option go_package =&#39;.;oneof&#39;; message WeiboUser{ string user_id = 1; string user_nick = 2; } message DouyinUser{ string auth_token = 1; string nick_name = 2; } message User{ oneof user_source{ string weibo_url = 1; string douyin_url = 2; } oneof user_info{ WeiboUser weibo_user_info = 3; DouyinUser douyin_user_info = 4; } } ä½¿ç”¨å‘½ä»¤ç”Ÿæˆgoä»£ç 
protoc --proto_path=. --go_out=paths=source_relative:./oneof ./protoOneof.proto ç”Ÿæˆçš„protoOneof.pb.goä»£ç å¦‚ä¸‹ï¼š...</p>
  </section>
  <footer class="entry-footer"><span title='2022-07-25 00:00:00 +0000 UTC'>July 25, 2022</span>&nbsp;Â·&nbsp;12 min&nbsp;Â·&nbsp;czyt</footer>
  <a class="entry-link" aria-label="post link to Protobuf golangå°æœ­" href="https://czyt.tech/post/protobuf-golang-litle-notes/"></a>
</article>

<article class="post-entry tag-entry"> 
  <header class="entry-header">
    <h2>ä½¿ç”¨gotestsç”Ÿæˆè¡¨é©±åŠ¨æµ‹è¯•
    </h2>
  </header>
  <section class="entry-content">
    <p>ä½¿ç”¨gotestså¯ä»¥å¾ˆæ–¹ä¾¿çš„ç”Ÿæˆè¡¨é©±åŠ¨æµ‹è¯•ä»£ç ï¼Œè¡¨é©±åŠ¨æµ‹è¯•çš„å…·ä½“å†…å®¹ï¼Œè¯·å‚è€ƒgoå®˜æ–¹çš„wikiã€‚ä¸‹é¢æ˜¯å…·ä½“çš„ä½¿ç”¨æ–¹æ³•ã€‚
å®‰è£… ä½¿ç”¨ä¸‹é¢å‘½ä»¤è¿›è¡Œå®‰è£…
go install github.com/cweill/gotests/gotests@latest å¦‚æœæ˜¯go1.16ä¹‹å‰çš„ç‰ˆæœ¬ï¼Œå¯ä»¥ä½¿ç”¨å‘½ä»¤ go get -u github.com/cweill/gotests/...æ¥è¿›è¡Œå®‰è£…ã€‚
ä½¿ç”¨ gotestsæ”¯æŒçš„å‚æ•°å¦‚ä¸‹ï¼š
Usage of C:\Users\czyt\go\bin\gotests.exe:-allgenerate tests for all functions and methods-excl stringregexp. generate tests for functions and methods that don&#39;t match. Takes precedence over -only, -exported, and -all-exportedgenerate tests for exported functions and methods. Takes precedence over -only and -all-i print test inputs in error messages-nosubtestsdisable generating tests using the Go 1....</p>
  </section>
  <footer class="entry-footer"><span title='2022-07-22 00:00:00 +0000 UTC'>July 22, 2022</span>&nbsp;Â·&nbsp;2 min&nbsp;Â·&nbsp;czyt</footer>
  <a class="entry-link" aria-label="post link to ä½¿ç”¨gotestsç”Ÿæˆè¡¨é©±åŠ¨æµ‹è¯•" href="https://czyt.tech/post/use-gotests-to-generate-table-driven-tests/"></a>
</article>

<article class="post-entry tag-entry"> 
  <header class="entry-header">
    <h2>Golang Exprä¸å®Œå…¨æŒ‡å—
    </h2>
  </header>
  <section class="entry-content">
    <p>å®‰è£… åº“çš„è¯´æ˜
Expr package provides an engine that can compile and evaluate expressions. An expression is a one-liner that returns a value (mostly, but not limited to, booleans). It is designed for simplicity, speed and safety.
The purpose of the package is to allow users to use expressions inside configuration for more complex logic. It is a perfect candidate for the foundation of a business rule engine.
å®‰è£…
go get -u /github....</p>
  </section>
  <footer class="entry-footer"><span title='2022-07-13 00:00:00 +0000 UTC'>July 13, 2022</span>&nbsp;Â·&nbsp;9 min&nbsp;Â·&nbsp;czyt</footer>
  <a class="entry-link" aria-label="post link to Golang Exprä¸å®Œå…¨æŒ‡å—" href="https://czyt.tech/post/golang-expr-uncompleted-reference/"></a>
</article>

<article class="post-entry tag-entry"> 
  <header class="entry-header">
    <h2>Golang DSLå‚è€ƒ
    </h2>
  </header>
  <section class="entry-content">
    <p>ANTLR 4 å›¾ä¹¦ The definitive ANTLR 4 reference (2014) è‹±æ–‡ç‰ˆä¸‹è½½ ä¸­æ–‡ç‰ˆä¸‹è½½ æ–‡ç«  ä½¿ç”¨ANTLRå’ŒGoå®ç°DSLå…¥é—¨ æ‰‹æŠŠæ‰‹æ•™ä½ ä½¿ç”¨ANTLRå’ŒGoå®ç°ä¸€é—¨DSLè¯­è¨€part1 part2part3part4part5 Parsing with ANTLR 4 and Go å®ä¾‹ä»£ç  bilibili gengine link go-zero link grule-rule-engine Others å›¾ä¹¦ Writing A Compiler In Go Writing an Interpreter in Go ÂµGoè¯­è¨€å®ç°â€”â€”ä»å¤´å¼€å‘ä¸€ä¸ªè¿·ä½ Goè¯­è¨€ç¼–è¯‘å™¨ æ–‡ç«  Build your own DSL with Go &amp; HCL
How to Write Syntax Tree-Based Domain-Specific Languages in Go
Handwritten Parsers &amp; Lexers in Go
goyaccå®æˆ˜
TiDB SQL Parser çš„å®ç°...</p>
  </section>
  <footer class="entry-footer"><span title='2022-07-11 00:00:00 +0000 UTC'>July 11, 2022</span>&nbsp;Â·&nbsp;1 min&nbsp;Â·&nbsp;czyt</footer>
  <a class="entry-link" aria-label="post link to Golang DSLå‚è€ƒ" href="https://czyt.tech/post/golang-dsl-reference/"></a>
</article>

<article class="post-entry tag-entry"> 
  <header class="entry-header">
    <h2>Golang io.Pipe ä½¿ç”¨
    </h2>
  </header>
  <section class="entry-content">
    <p>ä»‹ç» // Pipe creates a synchronous in-memory pipe. // It can be used to connect code expecting an io.Reader // with code expecting an io.Writer. // // Reads and Writes on the pipe are matched one to one // except when multiple Reads are needed to consume a single Write. // That is, each Write to the PipeWriter blocks until it has satisfied // one or more Reads from the PipeReader that fully consume // the written data....</p>
  </section>
  <footer class="entry-footer"><span title='2022-06-24 00:00:00 +0000 UTC'>June 24, 2022</span>&nbsp;Â·&nbsp;3 min&nbsp;Â·&nbsp;czyt</footer>
  <a class="entry-link" aria-label="post link to Golang io.Pipe ä½¿ç”¨" href="https://czyt.tech/post/golang-io-pipe-usage/"></a>
</article>
<footer class="page-footer">
  <nav class="pagination">
    <a class="next" href="https://czyt.tech/tags/golang/page/2/">Next Page Â»</a>
  </nav>
</footer>
    </main>
    
<footer class="footer">
    <span>&copy; 2022 <a href="https://czyt.tech/">è™«å­æ¨±æ¡ƒ</a></span>
    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://git.io/hugopapermod" rel="noopener" target="_blank">PaperMod</a>
        <span id="busuanzi_container_site_pv">Total visited<span id="busuanzi_value_site_pv"></span>times</span>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }
const loadScript = (url, onloadFunction) => {
    var newScript = document.createElement("script");
    newScript.onerror =  (oError) => {
      throw new URIError("The script " + oError.target.src + " didn't load correctly.");
    };
    if (onloadFunction) { newScript.onload = onloadFunction; }
    document.head.insertAdjacentElement('beforeend', newScript);
    newScript.src = url;
  }
  
if (document.querySelectorAll('.mermaid').length > 0) {
      loadScript('https://cdnjs.cloudflare.com/ajax/libs/mermaid/9.1.1/mermaid.min.js', () => {
        document.head.insertAdjacentHTML("beforeend", `<style>.mermaid svg { background-color: #dadcd8 !important; }</style>`);
        // default, dark, neutral, forest
        mermaid.initialize({ startOnLoad: false, securityLevel: "strict", logLevel: 1, theme: "neutral" });
        
        
        mermaid.init();
        console.log("mermaid init done");
      })
    }
    
    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
</body>

</html>
