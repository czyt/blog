<!DOCTYPE html>
<html>
<head>
	<title>AI Bot Code</title>
	<style>
		body {
			margin: 0;
			padding: 0;
			background-color: #1c1c1c;
			font-family: Arial, sans-serif;
		}
		.container {
			max-width: 800px;
			margin: 0 auto;
			padding: 20px;
			background-color: #2d2d2d;
			box-shadow: 0 0 10px rgba(0,0,0,0.2);
		}
		.message {
			margin-bottom: 10px;
			padding: 10px;
			background-color: #1c1c1c;
			border-radius: 5px;
			white-space: pre-wrap;
			word-wrap: break-word;
			color: #fff;
		}
		.message .sender {
			font-weight: bold;
			margin-right: 10px;
		}
		.message .time {
			font-size: 12px;
			color: #999;
		}
		.form {
			display: flex;
			margin-top: 20px;
		}
		.form input[type="text"] {
			flex: 1;
			padding: 10px;
			border: none;
			border-radius: 5px;
			margin-right: 10px;
			font-size: 16px;
			background-color: #2d2d2d;
			color: #fff;
		}
		.form input[type="submit"] {
			padding: 10px 20px;
			background-color: #4CAF50;
			color: #fff;
			border: none;
			border-radius: 5px;
			font-size: 16px;
			cursor: pointer;
			background-color: #2d2d2d;
		}
		.code {
			background-color: #1c1c1c;
			padding: 10px;
			border-radius: 5px;
			white-space: pre-wrap;
			word-wrap: break-word;
			font-family: monospace;
			font-size: 14px;
			color: #fff;
			border: 1px solid #ddd;
			margin-top: 10px;
			margin-bottom: 10px;
		}
	</style>
</head>
<body>
	<div class="container">
		<h1 style="text-align:center; color:#4CAF50;">AI Code Bot</h1>
		<div id="messages"></div>
		<form id="form">
			<textarea id="message" placeholder="Type your message here..." style="width:100%; height:100px;"></textarea>
			<input type="submit" value="Send" style="background-color: #4CAF50; color: #fff; border: none; border-radius: 5px; font-size: 16px; cursor: pointer; margin-top:10px;">
		</form>
	</div>
	<script>
		const messages = document.getElementById('messages');
		const form = document.getElementById('form');
		const messageInput = document.getElementById('message');

		// Function to add a new message to the chat
		function addMessage(sender, message, isCode = false) {
			const div = document.createElement('div');
			div.classList.add('message');
			if (isCode) {
				div.innerHTML = `
					<span class="sender">${sender}</span>
					<span class="time">${new Date().toLocaleTimeString()}</span>
					<pre class="code">${message}</pre>
				`;
			} else {
				div.innerHTML = `
					<span class="sender">${sender}</span>
					<span class="time">${new Date().toLocaleTimeString()}</span>
					<p>${message}</p>
				`;
			}
			messages.appendChild(div);
			messageInput.value = '';
			messageInput.focus();
		}

		// Event listener for form submission
		form.addEventListener('submit', function(event) {
			event.preventDefault();
			const sender = 'Me';
			const message = messageInput.value;
			addMessage(sender, message);
			// Send user input to API and display response
			fetch('https://hub.czyt.tech/code', {
				method: 'POST',
				body: JSON.stringify({desc: message}),
				headers: {
					'Content-Type': 'application/json'
				}
			})
			.then(response => response.json())
			.then(data => {
				const sender = 'API';
				const message = data.code;
				const isCode = data.isCode;
				addMessage(sender, message, true);
			})
			.catch(error => console.error(error));
		});
	</script>
</body>
</html>
